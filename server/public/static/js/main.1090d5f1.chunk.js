(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(75)},42:function(e,t,a){},43:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),c=a.n(o),l=(a(42),a(8)),s=a(1),i=a(2),m=a(4),p=a(3),u=a(5),h=(a(43),a(14)),d=a(6),g=a.n(d),f=a(10),y=(a(61),a(62),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),g.a.post("".concat("https://whorunswhat.herokuapp.com/api","/companies"),{companyName:a.state.companyName,companyDomain:a.state.companyDomain,companyRootEmail:a.state.companyRootEmail,companyLogoUrl:a.state.companyLogoUrl,companySiteUrl:a.state.companySiteUrl,companyLinkedinUrl:a.state.companyLinkedinUrl,companyGithubUrl:a.state.companyGithubUrl},{withCredentials:!0}).then(function(){a.props.getData(),a.setState({companyName:"",companyDomain:"",companyRootEmail:"",companyLogoUrl:"",companySiteUrl:"",companyLinkedinUrl:"",companyGithubUrl:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},n,r))},a.state={companyName:"",companyDomain:"",companyRootEmail:"",companyLogoUrl:"",companySiteUrl:"",companyLinkedinUrl:"",companyGithubUrl:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("span",null,r.a.createElement("form",{className:"card-body",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Company Name:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyName",value:this.state.companyName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Primary Domain Name (.com, .net, .io, etc.):"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyDomain",value:this.state.companyDomain,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Root Domain of Company Email (so we can validate employees):"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyRootEmail",value:this.state.companyRootEmail,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Logo URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyLogoUrl",value:this.state.companyLogoUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Website URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companySiteUrl",value:this.state.companySiteUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company LinkedIn URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyLinkedinUrl",value:this.state.companyLinkedinUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Github Organization URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyGithubUrl",value:this.state.companyGithubUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{className:"btn btn-sm btn-success save-cancel",type:"submit",value:"Add"}),r.a.createElement("button",{className:"btn btn-sm btn-secondary save-cancel",onClick:function(t){return e.props.resetEditingSituation()}},"Cancel"))))}}]),t}(n.Component)),E=(a(63),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){var t=a.state.companyName,n=a.state.companyDomain,r=a.state.companyRootEmail,o=a.state.companyLogoUrl,c=a.state.companySiteUrl,l=a.state.companyLinkedinUrl,s=a.state.companyGithubUrl;e.preventDefault(),g.a.post("".concat("https://whorunswhat.herokuapp.com/api","/companies/update/").concat(a.props.theCompany._id),{companyName:t,companyDomain:n,companyRootEmail:r,companyLogoUrl:o,companySiteUrl:c,companyLinkedinUrl:l,companyGithubUrl:s}).then(function(){a.props.getAllTheCompaniesInAppJS(),a.props.resetEditingSituation()}).catch(function(e){return console.log(e)})},a.handleChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.state={companyName:a.props.theCompany.companyName,companyDomain:a.props.theCompany.companyDomain,companyRootEmail:a.props.theCompany.companyRootEmail,companyLogoUrl:a.props.theCompany.companyLogoUrl,companySiteUrl:a.props.theCompany.companySiteUrl,companyLinkedinUrl:a.props.theCompany.companyLinkedinUrl,companyGithubUrl:a.props.theCompany.companyGithubUrl},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"card-header"},this.state.companyName),r.a.createElement("form",{className:"card-body",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Company Name:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyName",value:this.state.companyName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Primary Domain Name (.com, .net, .io, etc.):"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyDomain",value:this.state.companyDomain,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Root Domain of Company Email (so we can validate employees):"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyRootEmail",value:this.state.companyRootEmail,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Logo URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyLogoUrl",value:this.state.companyLogoUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Website URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companySiteUrl",value:this.state.companySiteUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company LinkedIn URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyLinkedinUrl",value:this.state.companyLinkedinUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Company Github Organization URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"companyGithubUrl",value:this.state.companyGithubUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{className:"btn btn-sm btn-success save-cancel",type:"submit",value:"Save"}),r.a.createElement("button",{className:"btn btn-sm btn-secondary save-cancel",onClick:function(t){return e.props.resetEditingSituation()}},"Cancel"))))}}]),t}(n.Component)),b=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).changeEditing=function(e){a.setState({editing:e})},a.resetEdit=function(){a.setState({editing:!1})},a.deleteCompany=function(e){g.a.delete("".concat("https://whorunswhat.herokuapp.com/api","/companies/").concat(e)).then(function(){a.props.getData()}).catch(function(e){console.log(e)})},a.showCompanies=function(){return a.props.allTheCompanies.map(function(e,t){return a.state.editing!==t?r.a.createElement("div",{className:"card text-center",key:e._id},r.a.createElement("img",{src:e.companyLogoUrl,className:"card-img-top",alt:e.companyName,onError:function(e){e.target.onerror=null,e.target.src="white-image.png"}}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(f.b,{to:"/companies/".concat(e._id)},e.companyName)),r.a.createElement("p",{className:"card-text"},e.companyDomain),e.companyLinkedinUrl&&r.a.createElement("a",{href:e.companyLinkedinUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin-in btn btn-lg btn-outline-primary"})),e.companyGithubUrl&&r.a.createElement("a",{href:e.companyGithubUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github btn btn-lg btn-primary"})),a.props.theUser&&e.companyUsers.includes(a.props.theUser._id)?r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){a.changeEditing(t)}},"Edit"),r.a.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){a.deleteCompany(e._id)}},"Delete")):null),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",e.updated_at.substring(0,10)))):r.a.createElement(E,{resetEditingSituation:a.resetEdit,theCompany:e,getAllTheCompaniesInAppJS:a.props.getData})})},a.state={editing:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-columns"},this.showCompanies()),this.props.theUser&&r.a.createElement("div",{className:""},r.a.createElement(y,{getData:this.props.getData}))):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-info",role:"status"}))}}]),t}(n.Component),v=(a(68),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){e.preventDefault(),g.a.post("".concat("https://whorunswhat.herokuapp.com/api","/technologies"),{techName:a.state.techName,techIconUrl:a.state.techIconUrl,techDescription:a.state.techDescription,techRefUrl:a.state.techRefUrl,techTopic:a.state.techTopic,theCompany:a.props.theCompanyToAddTechnologiesTo},{withCredentials:!0}).then(function(){a.props.getData(),a.setState({techName:"",techIconUrl:"",techDescription:"",techRefUrl:"",techTopic:""})}).catch(function(e){return console.log(e)})},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},n,r))},a.state={techName:"",techIconUrl:"",techDescription:"",techRefUrl:"",techTopic:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("span",null,r.a.createElement("form",{className:"card-body",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Technology Name:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techName",value:this.state.techName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Icon URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techIconUrl",value:this.state.techIconUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Description:"),r.a.createElement("textarea",{className:"form-control",name:"techDescription",rows:"3",value:this.state.techDescription,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Reference URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techRefUrl",value:this.state.techRefUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Topic:"),r.a.createElement("select",{className:"form-control",name:"techTopic",value:this.state.techTopic,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"Full Stack"},"Full Stack"),r.a.createElement("option",{value:"Front End"},"Front End"),r.a.createElement("option",{value:"Backend"},"Backend"),r.a.createElement("option",{value:"Systems"},"Systems"),r.a.createElement("option",{value:"Data"},"Data")),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{className:"btn btn-sm btn-success save-cancel",type:"submit",value:"Add"}))))}}]),t}(n.Component)),N=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleFormSubmit=function(e){var t=a.state.techName,n=a.state.techIconUrl,r=a.state.techDescription,o=a.state.techRefUrl,c=a.state.techTopic;e.preventDefault(),g.a.post("".concat("https://whorunswhat.herokuapp.com/api","/technologies/update/").concat(a.props.theTechnology._id),{techName:t,techIconUrl:n,techDescription:r,techRefUrl:o,techTopic:c}).then(function(){a.props.getAllTheCompaniesInAppJS(),a.props.resetEditingSituation()}).catch(function(e){return console.log(e)})},a.handleChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.state={techName:a.props.theTechnology.techName,techIconUrl:a.props.theTechnology.techIconUrl,techDescription:a.props.theTechnology.techDescription,techRefUrl:a.props.theTechnology.techRefUrl,techTopic:a.props.theTechnology.techTopic},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),r.a.createElement("div",{className:"media bg-white border rounded"},r.a.createElement("form",{className:"media-body",onSubmit:this.handleFormSubmit},r.a.createElement("label",null,"Technology Name:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techName",value:this.state.techName,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Icon URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techIconUrl",value:this.state.techIconUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Description:"),r.a.createElement("textarea",{className:"form-control",name:"techDescription",rows:"3",value:this.state.techDescription,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Technology Reference URL:"),r.a.createElement("input",{className:"form-control",type:"text",name:"techRefUrl",value:this.state.techRefUrl,onChange:function(t){return e.handleChange(t)}}),r.a.createElement("label",null,"Topic:"),r.a.createElement("select",{className:"form-control",name:"techTopic",value:this.state.techTopic,onChange:function(t){return e.handleChange(t)}},r.a.createElement("option",{value:"Full Stack"},"Full Stack"),r.a.createElement("option",{value:"Front End"},"Front End"),r.a.createElement("option",{value:"Backend"},"Backend"),r.a.createElement("option",{value:"Systems"},"Systems"),r.a.createElement("option",{value:"Data"},"Data")),r.a.createElement("div",{className:"text-right"},r.a.createElement("input",{className:"btn btn-sm btn-success save-cancel",type:"submit",value:"Save"}),r.a.createElement("button",{className:"btn btn-sm btn-secondary save-cancel",onClick:function(t){return e.props.resetEditingSituation()}},"Cancel"))))}}]),t}(n.Component),C=(a(69),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).resetEdit=function(){a.setState({editing:!1})},a.edit=function(e){a.setState({editing:e})},a.deleteTechnology=function(e,t){g.a.put("".concat("https://whorunswhat.herokuapp.com/api","/companies/technologies"),{company:e,technology:t}).then(function(){a.props.getData()}).catch(function(e){console.log(e)})},a.state={editing:!1,companyId:a.props.match.params.theID},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.allTheCompanies,a=this.props.match.params.theID,n=t.find(function(e){return e._id===a});return n?r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("div",{className:"card text-center mx-auto",key:n._id},r.a.createElement("img",{src:n.companyLogoUrl,className:"card-img-top mx-auto",alt:n.companyName}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(f.b,{to:"/companies/".concat(n._id)},n.companyName)),r.a.createElement("p",{className:"card-text"},n.companyDomain),n.companyLinkedinUrl&&r.a.createElement("a",{href:n.companyLinkedinUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin-in btn btn-lg btn-outline-primary"})),n.companyGithubUrl&&r.a.createElement("a",{href:n.companyGithubUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github btn btn-lg btn-outline-primary"}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",n.updated_at.substring(0,10)))),n.companyTechnologies.length>0&&r.a.createElement("div",{className:"mx-auto"},r.a.createElement("br",null),r.a.createElement("div",{className:"text-center mx-auto"},r.a.createElement("h5",null,"Technologies at ",n.companyName)),r.a.createElement("div",{className:"mx-auto"},n?n.companyTechnologies.map(function(t,a){return e.state.editing!==a?r.a.createElement("div",{className:"media bg-white border rounded",key:t._id},r.a.createElement("img",{src:t.techIconUrl,className:"border rounded bg-light align-self-start mr-3 media-img-size",alt:t.techName}),r.a.createElement("div",{className:"media-body"},r.a.createElement("h5",{className:"media-title mt-0"},t.techName),r.a.createElement("div",{className:"media-text"},t.techDescription),r.a.createElement("a",{href:t.techRefUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},t.techName," - Reference ",r.a.createElement("i",{className:"fas fa-external-link-alt small"})),r.a.createElement("p",null,r.a.createElement("small",{className:"text-muted"},"Last updated on ",t.updated_at.substring(0,10)))),function(t,a){return e.props.theUser&&n.companyUsers.includes(e.props.theUser._id)?r.a.createElement("div",{className:"text-center"},r.a.createElement("button",{className:"btn btn-sm btn-primary",onClick:function(){e.edit(a)}},"Edit"),r.a.createElement("button",{className:"btn btn-sm btn-outline-danger ml-1",onClick:function(){e.deleteTechnology(n._id,t._id)}},"Delete")):null}(t,a)):r.a.createElement(N,{theTechnology:t,getAllTheCompaniesInAppJS:e.props.getData,resetEditingSituation:e.resetEdit})}):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-info",role:"status"}))))),r.a.createElement("div",null,r.a.createElement(v,{theCompanyToAddTechnologiesTo:n._id,getData:this.props.getData}))):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-info",role:"status"}))}}]),t}(n.Component)),U=(a(70),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).changeEditing=function(e){a.setState({editing:e})},a.resetEdit=function(){a.setState({editing:!1})},a.deleteCompany=function(e){g.a.delete("".concat("https://whorunswhat.herokuapp.com/api","/companies/").concat(e)).then(function(){a.props.getData()}).catch(function(e){console.log(e)})},a.showTheCompanies=function(){if(a.props.theUser)return a.props.allTheCompanies.filter(function(e){return e.companyUsers.includes(a.props.theUser._id)}).map(function(e,t){return a.state.editing!==t?r.a.createElement("div",{className:"card text-center",key:e._id},r.a.createElement("img",{src:e.companyLogoUrl,className:"card-img-top",alt:e.companyName}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(f.b,{to:"/companies/".concat(e._id)},e.companyName)),r.a.createElement("p",{className:"card-text"},e.companyDomain),r.a.createElement("a",{href:e.companyLinkedinUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin-in btn btn-lg btn-outline-primary"})),"\xa0",r.a.createElement("a",{href:e.companyGithubUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github btn btn-lg btn-outline-primary"})),e.companyUsers.includes(a.props.theUser._id)&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-sm btn-primary my-2",onClick:function(){a.changeEditing(t)}},"Edit"),r.a.createElement("button",{className:"btn btn-sm btn-outline-danger",onClick:function(){a.deleteCompany(e._id)}},"Delete"))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",e.updated_at.substring(0,10)))):r.a.createElement(E,{resetEditingSituation:a.resetEdit,theCompany:e,getAllTheCompaniesInAppJS:a.props.getData})});a.props.history.push("/")},a.state={editing:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-columns"},this.showTheCompanies()),r.a.createElement("div",{className:""},r.a.createElement(y,{getData:this.props.getData}))):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-info",role:"status"}))}}]),t}(n.Component)),w=function e(){var t=this;Object(s.a)(this,e),this.signup=function(e,a,n,r){return t.service.post("/signup",{username:e,password:a,personalEmail:n,fullName:r}).then(function(e){return e.data})},this.login=function(e,a){return t.service.post("/login",{username:e,password:a}).then(function(e){return e.data})},this.currentUser=function(){return t.service.get("/getcurrentuser").then(function(e){return e.data})},this.logout=function(){return t.service.post("/logout",{}).then(function(e){return e.data})};var a=g.a.create({baseURL:"https://whorunswhat.herokuapp.com/api/auth",withCredentials:!0});this.service=a},x=(a(71),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.tryToSignUp=function(e){e.preventDefault();var t=a.state.username,n=a.state.password,r=a.state.personalEmail,o=a.state.fullName;a.state.userRole;a.service.signup(t,n,r,o).then(function(){a.props.toggleForm("signup"),a.props.getUser()})},a.state={username:"",password:"",personalEmail:"",fullName:"",userRole:""},a.service=new w,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.tryToSignUp},r.a.createElement("div",{className:"container login-form border rounded bg-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",value:this.state.username,name:"username",type:"text",onChange:this.handleChange,placeholder:"choose a username"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",value:this.state.password,name:"password",type:"password",onChange:this.handleChange,placeholder:"enter a password"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",value:this.state.personalEmail,name:"personalEmail",onChange:this.handleChange,placeholder:"email address"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",value:this.state.fullName,name:"fullName",onChange:this.handleChange,placeholder:"full name"})),r.a.createElement("button",{className:"btn btn-sm btn-primary"},"Sign Up"))))}}]),t}(n.Component)),k=(a(72),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(l.a)({},e.target.name,e.target.value))},a.tryToLogin=function(e){e.preventDefault();var t=a.state.usernameInput,n=a.state.passwordInput;a.service.login(t,n).then(function(){a.props.toggleForm("login"),a.props.getUser()})},a.state={usernameInput:"",passwordInput:""},a.service=new w,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.tryToLogin},r.a.createElement("div",{className:"container login-form border rounded bg-dark"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",type:"text",value:this.state.usernameInput,name:"usernameInput",onChange:this.handleChange,placeholder:"username"})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{className:"form-control",type:"password",value:this.state.passwordInput,name:"passwordInput",onChange:this.handleChange,placeholder:"password"})),r.a.createElement("button",{className:"btn btn-sm btn-primary"},"Login"))))}}]),t}(n.Component));a(73);var S=function(e){return r.a.createElement("nav",{className:"navbar navbar-expand-lg collapse-md navbar-dark"},r.a.createElement("div",null,r.a.createElement("a",{className:"logo",href:"/"},r.a.createElement("img",{src:"../wrw-logo.png",alt:"WhoRunsWhat"}))),r.a.createElement("div",{className:"collapse navbar-collapse",id:"Navbar1"},r.a.createElement("ul",{className:"navbar-nav mr-auto"}),r.a.createElement("ul",{className:"navbar-nav"},e.theUser&&r.a.createElement("li",null,r.a.createElement(f.b,{className:"nav-link active",exact:!0,to:"/dashboard"},"My Dashboard"))),!e.theUser&&r.a.createElement("span",{className:"right"},r.a.createElement("button",{className:"btn btn-sm btn-outline-light login-signup",onClick:function(){return e.toggleForm("login")}},"Login"),r.a.createElement("button",{className:"btn btn-sm btn-outline-light login-signup",onClick:function(){return e.toggleForm("signup")}},"Sign Up")),e.theUser&&r.a.createElement("div",null,r.a.createElement("div",{className:"btn btn-sm btn-outline-light logout",onClick:function(){e.pleaseLogOut().then(function(){e.getUser()})}},"Log Out"))))},O=a(20),L=a.n(O),D=a(36),j=a(35),R=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getAllCompanies=function(){g.a.get("".concat("https://whorunswhat.herokuapp.com/api","/companies")).then(function(e){a.setState({listOfCompanies:e.data,companiesListClone:e.data,ready:!0})})},a.onInputChange=function(e){console.log(e.target.name,e.target.value);var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},n,r)),a.checkForCompany()},a.state={listOfCompanies:[],companiesListClone:[],searchField:"",companyName:"",companySiteUrl:"",companyLogoUrl:"",apiCompaniesList:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"checkForCompany",value:function(){var e=Object(j.a)(L.a.mark(function e(){var t,a,n,r,o=this;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("checking for company"),t=[],a=Object(D.a)(this.state.listOfCompanies),console.log("the company list in state -=---- ",a),!((n=a.filter(function(e,t){return e.companyName.toUpperCase().includes(o.state.searchField.toUpperCase())})).length<=1)){e.next=13;break}return console.log("the if condition in the search"),e.next=9,this.getData(this.state.searchField);case 9:r=e.sent,console.log("the companies from the api >>>>>>>>>>>>>>>>>>>>>>> ",r),n.forEach(function(e){console.log("the first for each ===== ",e),r.forEach(function(a){console.log("match this <<<<<< ",e.companyName.toUpperCase()," >>>>>>>>>>>>>>>> ",a.name.toUpperCase()," ======== ",String(a.name.toUpperCase())===String(e.companyName.toUpperCase())),String(a.name.toUpperCase())!==String(e.companyName.toUpperCase())&&t.push(a)})}),0===n.length&&r.length>0&&(t=r);case 13:t.forEach(function(e){g.a.post("".concat("https://whorunswhat.herokuapp.com/api","/companies/create"),{companyName:e.name,companyDomain:e.domain,companyLogoUrl:e.logo},{withCredentials:!0}).then(function(e){n.push(e)}).catch(function(e){console.log(e)})}),console.log("matched:",n,"filtered:",t),this.setState({companiesListClone:n,apiCompaniesList:t}),this.props.getSearchResults(this.state.companiesListClone);case 17:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(e){return g.a.get("https://autocomplete.clearbit.com/v1/companies/suggest?query=:"+e).then(function(e){return e.data})}},{key:"componentWillMount",value:function(){this.getAllCompanies()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"input py-4"},r.a.createElement("input",{className:"form-control form-control-lg",type:"search",id:"example-search-input",name:"searchField",value:this.state.searchField,onChange:function(t){e.onInputChange(t)},placeholder:"enter a company name..."})))}}]),t}(r.a.Component),T=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).changeEditing=function(e){a.setState({editing:e})},a.resetEdit=function(){a.setState({editing:!1})},a.deleteCompany=function(e){g.a.delete("".concat("https://whorunswhat.herokuapp.com/api","/companies/").concat(e)).then(function(){a.props.getData()}).catch(function(e){console.log(e)})},a.showSearchCompanies=function(){return a.props.searchResults.map(function(e,t){return a.state.editing!==t?r.a.createElement("div",{className:"card text-center",key:e._id},r.a.createElement("img",{src:e.companyLogoUrl,className:"card-img-top",alt:e.companyName,onError:function(e){e.target.onerror=null,e.target.src="white-image.png"}}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},r.a.createElement(f.b,{to:"/companies/".concat(e._id)},e.companyName)),r.a.createElement("p",{className:"card-text"},e.companyDomain),e.companyLinkedinUrl&&r.a.createElement("a",{href:e.companyLinkedinUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-linkedin-in btn btn-lg btn-outline-primary"})),e.companyGithubUrl&&r.a.createElement("a",{href:e.companyGithubUrl,className:"media-text",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("i",{className:"fab fa-github btn btn-lg btn-outline-primary"}))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("small",{className:"text-muted"},"Last updated on ",e.updated_at.substring(0,10)))):r.a.createElement(E,{resetEditingSituation:a.resetEdit,theCompany:e,getAllTheCompaniesInAppJS:a.props.getData})})},a.state={editing:!1,searchResults:[]},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.ready?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"card-columns"},this.showSearchCompanies())):r.a.createElement("div",{className:"text-center"},r.a.createElement("div",{className:"spinner-grow text-primary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-secondary",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-success",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-danger",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-warning",role:"status"}),r.a.createElement("div",{className:"spinner-grow text-info",role:"status"}))}}]),t}(n.Component),I=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).getSearchResults=function(e){a.setState({searchResults:e,ready:!0})},a.getAllCompanies=function(){g.a.get("".concat("https://whorunswhat.herokuapp.com/api","/companies"),{withCredentials:!0}).then(function(e){a.setState({listOfCompanies:e.data,ready:!0})})},a.getCurrentlyLoggedInUser=function(){a.service.currentUser().then(function(e){a.setState({currentlyLoggedIn:e})}).catch(function(){a.setState({currentlyLoggedIn:null})})},a.toggleForm=function(e){var t;t="signup"===e?"signupShowing":"loginShowing",a.setState(Object(l.a)({},t,!a.state[t]))},a.state={listOfCompanies:[],currentlyLoggedIn:null,ready:!1,signupShowing:!1,loginShowing:!1,searchResults:[]},a.service=new w,a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getAllCompanies(),this.getCurrentlyLoggedInUser()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(S,{theUser:this.state.currentlyLoggedIn,pleaseLogOut:function(){return e.service.logout()},toggleForm:this.toggleForm,getUser:this.getCurrentlyLoggedInUser}),this.state.signupShowing&&r.a.createElement("div",{className:"container-fluid mx-auto"},r.a.createElement(x,{getUser:this.getCurrentlyLoggedInUser,toggleForm:this.toggleForm})),this.state.loginShowing&&r.a.createElement("div",{className:"container-fluid mx-auto"},r.a.createElement(k,{getUser:this.getCurrentlyLoggedInUser,toggleForm:this.toggleForm})),r.a.createElement(R,{getSearchResults:this.getSearchResults}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(h.c,null,this.state.searchResults.length&&r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(T,Object.assign({},t,{searchResults:e.state.searchResults,companiesListClone:e.state.companiesListClone,ready:e.state.ready,getData:e.getAllCompanies,theUser:e.state.currentlyLoggedIn}))}}),!this.state.searchResults.length&&r.a.createElement(h.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(b,Object.assign({},t,{theUser:e.state.currentlyLoggedIn,allTheCompanies:e.state.listOfCompanies,getData:e.getAllCompanies,ready:e.state.ready}))}}),r.a.createElement(h.a,{exact:!0,path:"/dashboard",render:function(t){return r.a.createElement(U,Object.assign({},t,{theUser:e.state.currentlyLoggedIn,allTheCompanies:e.state.listOfCompanies,getData:e.getAllCompanies,ready:e.state.ready}))}}),r.a.createElement(h.a,{exact:!0,path:"/companies/:theID",render:function(t){return r.a.createElement(C,Object.assign({},t,{allTheCompanies:e.state.listOfCompanies,ready:e.state.ready,getData:e.getAllCompanies,theUser:e.state.currentlyLoggedIn}))}}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f.a,null,r.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.1090d5f1.chunk.js.map